<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="AI destekli görev ve toplantı yönetim sistemi" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <title>AI Destekli Görev Yönetimi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/kanban.css">
    <link rel="stylesheet" href="/styles/modal.css">
  </head>
  <body class="dark-theme">
    <!-- Header -->
    <header class="app-header">
        <div class="header-left">
            <h1>AI Görev Yönetimi</h1>
        </div>
        <div class="header-right">
            <button id="themeToggle" class="icon-button">
                <i class="fas fa-moon"></i>
            </button>
            <div class="user-profile">
                <img src="" alt="Profil" id="userAvatar" class="avatar">
                <div class="user-info">
                    <span id="userName">Yükleniyor...</span>
                    <button id="logoutBtn" class="text-button">Çıkış Yap</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="app-container">
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Görevlerde ara...">
            </div>
            <div class="filters">
                <select id="priorityFilter">
                    <option value="">Tüm Öncelikler</option>
                    <option value="high">Yüksek</option>
                    <option value="medium">Orta</option>
                    <option value="low">Düşük</option>
                </select>
                <select id="statusFilter">
                    <option value="">Tüm Durumlar</option>
                    <option value="todo">Yapılacak</option>
                    <option value="in-progress">Devam Ediyor</option>
                    <option value="done">Tamamlandı</option>
                </select>
            </div>
            <div class="actions">
                <button id="addTaskBtn" class="primary-button">
                    <i class="fas fa-plus"></i> Yeni Görev
                </button>
                <button id="voiceInputBtn" class="secondary-button">
                    <i class="fas fa-microphone"></i>
                </button>
                <button id="aiSuggestBtn" class="ai-button">
                    <i class="fas fa-robot"></i> AI Öneriler
                </button>
            </div>
        </div>

        <!-- Kanban Board -->
        <div class="kanban-board">
            <div class="kanban-column" data-status="todo">
                <h2>Yapılacak</h2>
                <div class="task-list" id="todoTasks"></div>
            </div>
            <div class="kanban-column" data-status="in-progress">
                <h2>Devam Ediyor</h2>
                <div class="task-list" id="inProgressTasks"></div>
            </div>
            <div class="kanban-column" data-status="done">
                <h2>Tamamlandı</h2>
                <div class="task-list" id="doneTasks"></div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Yeni Görev</h2>
                <button class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <div class="form-group">
                        <label for="taskTitle">Başlık</label>
                        <input type="text" id="taskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Açıklama</label>
                        <textarea id="taskDescription" rows="3"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="taskPriority">Öncelik</label>
                            <select id="taskPriority" required>
                                <option value="low">Düşük</option>
                                <option value="medium">Orta</option>
                                <option value="high">Yüksek</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="taskDueDate">Bitiş Tarihi</label>
                            <input type="date" id="taskDueDate">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="taskTags">Etiketler (virgülle ayırın)</label>
                        <input type="text" id="taskTags" placeholder="örn: acil, toplantı, proje">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="secondary-button" data-dismiss="modal">İptal</button>
                <button type="submit" form="taskForm" class="primary-button">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Voice Input Modal -->
    <div id="voiceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sesli Görev Ekleme</h2>
                <button class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="voice-recorder">
                    <div class="recorder-status">
                        <i class="fas fa-microphone"></i>
                        <span id="recordingStatus">Kayıt için tıklayın</span>
                    </div>
                    <div class="recorder-visualizer">
                        <canvas id="audioVisualizer"></canvas>
                    </div>
                    <div class="recorder-controls">
                        <button id="startRecordingBtn" class="primary-button">
                            <i class="fas fa-microphone"></i> Kaydet
                        </button>
                        <button id="stopRecordingBtn" class="danger-button" disabled>
                            <i class="fas fa-stop"></i> Durdur
                        </button>
                    </div>
                    <div id="transcriptionResult" class="transcription-box hidden">
                        <h3>Algılanan Metin:</h3>
                        <p id="transcribedText"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Suggestions Modal -->
    <div id="aiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>AI Görev Önerileri</h2>
                <button class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ai-suggestions" id="aiSuggestionsList">
                    <!-- AI önerileri buraya dinamik olarak eklenecek -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <!-- Firebase import -->
    <script type="module">
      // Firebase yapılandırması bu dosyalara taşındı
      import './scripts/main.js';
      import './scripts/kanban.js';
      import './scripts/voice.js';
      import './scripts/ai.js';
    </script>
  </body>
</html> 